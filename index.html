
<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Meta data -- For SEO -->
    <meta charset="utf-8">
    <title>SOCR Web-App</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Simulation App,Randomization and Resampling App">
    <meta name="author" content="selvam,ashwini,ivo">
  
    <!-- head.js ... its a javascript loader tool -->
    <script src="js/lib/head.min.js"></script>
    
    <!-- Le styles -->
    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="http://code.jquery.com/ui/1.8.21/themes/base/jquery-ui.css" rel="stylesheet">
    <link href="css/stylePagination.css" rel="stylesheet">
    <link rel="stylesheet" media="screen" href="input/css/table.css">
        <link href="css/bootstrap-responsive.css" rel="stylesheet">
    <style type="text/css">
      body {
        padding-top: 60px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
      .row-fluid{padding-top:10px;}
      #myModal{display: none;}
      .tab-content{overflow:visible;}
	  
/*
    SampleList style starts here
 	  
*/
		
      .entry{
	      padding: 10px;
	      
	      border-bottom: 0; 
	      &:last-of-type {
        border-bottom: 1px solid black; 
	}
     
      }
      .header{
      background-color:#cdf;
      }
	
      .values{
	color:brown;
	font-weight:800;
      }
	
      .span5,.span4{
	border:1px solid;
	padding:10px;
      }
      #sampleList{
	height:400px;
	overflow-y: scroll;
      }
      
      #range{
	width:50%;
	float:left;
	margin-right:10px;
	margin-top:7px;
	}
	
  /*
    SampleList style ends here
 	  
*/
        .slide-out-input,.slide-out-controller {
	  border:1px solid;
	  padding:10px;
          
          background: #ccc;
          
      }      
       
      
      .up{
	z-index:1;
      }

  </style>
 
    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="ico/favicon.ico">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="ico/apple-touch-icon-57-precomposed.png">
    
  </head>

  <body>
  <div id='header'>
    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="#">SOCR</a>
          <div class="nav-collapse">
            <ul class="nav">
              <li class="active"><a href="#">Home</a></li>
              <li><a data-toggle="modal" href="#aboutDesc">About</a></li>
              <li><a data-toggle="modal" href="#simulationDesc">Simulations</a></li>
			  
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>
  </div>
  <div id='main'>
    <div class="container-fluid">
      <div class="row-fluid">
	<div class='span8'>
	  <div id='accordion'>
	    <h3><a href="#">DataSet</a></h3>
	    <div>
	      <div id="dataPlot">List of all generated samples!</div>
	      <div id="currentSample">e</div>
	    </div>		
	    <h3><a href="#">DotPlot</a></h3>
	    <div id='dotPlot'>eafsef</div>
	  </div>
	<div class="slide-out-input" >
		<a class="handle" href="#">Content</a>
		<h3> Input Tile</h3>
		<!-- Add data-toggle="buttons-radio" for radio style toggling on btn-group -->
		<ul id='myTab' class="nav nav-tabs">
		    <li class="active"><a href="#dataDriven-content" id='dataDriven-tab' data-toggle="tab" >Data Driven</a></li>
		    <li ><a href="#simulationDriven-content" id='simulationDriven-tab' data-toggle="tab" >Simulation Driven</a></li>
		</ul>
		<div id="myTabContent" class="tab-content">
		    <div class="tab-pane fade active in" id="dataDriven-content">
		      <div id="input-table" class="dataTable" style='width:400px'>
                      </div>
		      <div id='status'>
		      </div>
		      <!--<p> OR</p>
		      <p><a class="btn" href="#">More Info &raquo;</a></p> -->
		    </div>
		    <div class="tab-pane fade" id="simulationDriven-content">
		      <p style='width:400px'>There are many experiments available which generate samples and dont require the user to enter the sample set/data.<span><i class="icon-question-sign popups" rel="popover" data-content="Choose a experiment from the list to start generating samples!" data-original-title="Simulation Driven"></i></span></p>
		      <div class="btn-group">
			<button class="btn btn-success">Choose</button>
			<button class="btn btn-success dropdown-toggle"><span class="caret"></span></button>
			<ul class="dropdown-menu">
			  <li><a href="#" id='binomialCoin'>Binomial Coin Toss</a></li>
			  <li><a href="#" id='ballAndUrn'>Ball And Urn</a></li>
			  <li><a href="#" id='dice'>Dice</a></li>
			</ul>
		      </div>
		    </div>
		  </div>
            </div><!--/slide-out-input-->
	  <div class="slide-out-controller" style='width:400px' >
	      <a class="handle2" href="#">Content</a>
              <h3>Controller</h3>
		<div id='controller-content'>
		<p class="toolbar">
		  <button class='btn' type="button" id="stepButton" tabindex="1" title="Step">
		  <img src="img/step.png" alt="Step" title="Step" />
		  </button>
		  <button class='btn btn-success' type="button" id="runButton" tabindex="2" title="Run" >
		  <img id="runImage" src="img/run.png" alt="Run" title="Run" />
		  </button>
		  <button class='btn btn-danger' type="button" id="stopButton" tabindex="3" title="Stop" >
		  <img id="stopImage" src="img/stop.png" alt="Stop" title="Stop" />
		  </button>
		  <button class='btn' type="button" id="resetButton" tabindex="4" title="Reset" >
		  <img src="img/reset.png" alt="Reset" title="Reset" />
		  </button>
		  <span>
		    <i class="icon-question-sign popups" rel="popover" data-content="<ul><li>Step Button : generates 1 sample</li><li>Run Button : generates X sample..X can be set from the option below</li><li>Stop Button :Stops the sample generation</li><li>Reset Button : Resets all values</li></ul>" data-original-title="Controls"></i>
		  </span>
		</p>
		<p>
		  <span>Speed:  </span><select id="speed" style='width:100px' tabindex="3" title="Animation Speed">
		    <option value="slow">slow</option>
		    <option value="medium">medium</option>
		    <option value="fast">fast</option>
		   </select>
		</p>
		<p class="toolbar">
		  <p class="tool">
		    <span>Generate</span><input type="text" id='countSize' class="input-small" value='1000'>
		    <span>Samples with </span><input type="text" id='nSize' class="input-small" value='50'><span>Datapoint per sample.</span>
		  </p>
		</p>
		<p>
		  
		  <select id="variable" style='width:100px;margin-top:10px'>
		    <option value="slow">Mean</option>
		    <option value="medium">S.D</option>
		    <option value="fast">Percentile</option>
		  </select>
		  <span>
		    <a href="#" class="btn btn-danger popups" rel="popover" data-content="This will create a plot of the variable for each generated sample. Click this once you have generated some samples!" data-original-title="Inference">Infer!</a>
		  </span>
		</p>
		</div>
	</div><!--/slide-out-controller-->
         
      
      </div><!--span8-->
      
	<div class="span4">
		<h3>Sample List <span>
		    <i class="icon-question-sign popups" rel="popover" data-content="It shows the list of generated samples when the show button is pressed." data-original-title="Sample List"></i>
		  </span></h3>
		
		<div style='padding-bottom:20px;'>
		  <span class="badge badge-warning">Samples Generated: <span id='displayCount'>0</span></span>
		  <span class="badge badge-success">Showing <span id='showCount'>0</span> samples</span>
		</div>  
		<div id='slider'>
		  <div id="range"></div>
		  <div><button class='btn' type="button" id="showButton" tabindex="2" title="Show!" >Show!</button></div>
		</div>
		<br>
		<div id='sampleList'>
		<!--sampleList-->
		
		<div class="pagination">
		</div>
		</div>
		<div class='pagination'>
		<!--Page Numbers-->
		</div>
	</div><!--span4-->
      
      </div><!--row-->
      <hr>
      <!--
      Following divs are for the modal windows.
      -->
	<div id="plot" class="modal hide fade">  
		  <div class="modal-header">
			<a class="close" data-dismiss="modal">X</a>
			<h3>Sample Plot</h3>
		  </div>
		  <div class="modal-body">
			<div class='device'></div>
		  </div>
		  
	</div>
	<div id="aboutDesc" class="modal hide fade">  
		  <div class="modal-header">
			<a class="close" data-dismiss="modal">X</a>
			<h3>SOCR</h3>
		  </div>
		  <div class="modal-body">
			<p>The goal of this project is to design a modern and portable SOCR web-app that demonstrates the concepts of statistical analysis such as resampling, randomization and probabilistic simulation and runs seamlessly across varied devices. The application will be based on HTML5, CSS3 and JavaScript framework</p>
		  </div>
		  <div class="modal-footer">
			<a href="http://socr.ucla.edu" class="btn btn-primary">HomePage</a>
		  </div>
	</div>
	<div id='simulationDesc' class="modal hide fade">
	  <div class="modal-header">
			<a class="close" data-dismiss="modal">X</a>
			<h3>Simulations</h3>
		  </div>
	  <div class="modal-body">
	    <p>There are a list of simulation experiments you can choose from to create the dataset for further analysis. Currently we have 4 experiments installed into the App. More are soon to come!</p>
	    <ul>
	    <li>Coin Toss </li>
	    <li>Ball and Urn</li>
	    </ul>
	  </div>
	</div>
      <footer>
        <p>&copy; UCLA 2012</p>
      </footer>

    </div><!--/.fluid-container-->
  </div> <!-- main -->
</body>
    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <!--<script type='text/javascript' src="http://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.min.js"></script>-->
    <script type='text/javascript'>
    
    head.js("js/lib/jquery.min.js",
            "js/bootstrap/bootstrap-transition.js",
            "js/bootstrap/bootstrap-alert.js",
            "js/bootstrap/bootstrap-tab.js",
            "js/bootstrap/bootstrap-button.js",
            "js/bootstrap/bootstrap-modal.js",
            "js/bootstrap/bootstrap-dropdown.js",
            {coreFunctions:"js/exp/core.js"},
	    {binomialCoin:"js/exp/binomialCoin.js"},
            "js/bootstrap/bootstrap-scrollspy.js",
            "js/bootstrap/bootstrap-tooltip.js",
            "js/bootstrap/bootstrap-popover.js",
            "js/bootstrap/bootstrap-collapse.js",
            "js/bootstrap/bootstrap-carousel.js",
            "js/bootstrap/bootstrap-typeahead.js",
            {inputTile:"input/js/inputtable.js"},
            {InputTile:"input/js/script.js"},
	    "js/exp/eventDispatcher.js",
	    {Model:"js/exp/dataDrivenModel.js"},
	    {View:"js/exp/dataDrivenView.js"},
	    {Controller:"js/exp/dataDrivenController.js"},
	    "https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.21/jquery-ui.min.js",
	    {D3:"vis/d3.v2.min.js"},
	    "vis/script.js",
	    "js/exp/jquery.paginate.js",
	    "js/exp/socr.js",
	    "js/exp/jquery.tabSlideOut.v1.3.js",
		"js/exp/update.js"
	    	);
    
  head.ready(function () {

  /* Slide out feature of input and control tiles
   *uses jquery.tabSlideOut.v1.3.js
   *
   */
  $(document).ready(function(){
     $('.slide-out-input').tabSlideOut({
            tabHandle: '.handle',                     //class of the element that will become your tab
            pathToTabImage: 'img/contact_tab.gif', //path to the image for the tab //Optionally can be set using css
            imageHeight: '122px',                     //height of tab image           //Optionally can be set using css
            imageWidth: '40px',                       //width of tab image            //Optionally can be set using css
            tabLocation: 'left',                      //side of screen where tab lives, top, right, bottom, or left
            speed: 300,                               //speed of animation
            action: 'click',                          //options: 'click' or 'hover', action to trigger animation
            topPos: '200px',                          //position from the top/ use if tabLocation is left or right
            leftPos: '20px',                          //position from left/ use if tabLocation is bottom or top
            fixedPosition: false                      //options: true makes it stick(fixed position) on scroll
        });
    
    $('.slide-out-controller').tabSlideOut({
            tabHandle: '.handle2',                     //class of the element that will become your tab
            pathToTabImage: 'img/contact_tab.gif', //path to the image for the tab //Optionally can be set using css
            imageHeight: '122px',                     //height of tab image           //Optionally can be set using css
            imageWidth: '40px',                       //width of tab image            //Optionally can be set using css
            tabLocation: 'left',                      //side of screen where tab lives, top, right, bottom, or left
            speed: 300,                               //speed of animation
            action: 'click',                          //options: 'click' or 'hover', action to trigger animation
            topPos: '500px',                          //position from the top/ use if tabLocation is left or right
            leftPos: '20px',                          //position from left/ use if tabLocation is bottom or top
            fixedPosition: false                      //options: true makes it stick(fixed position) on scroll
        });
    
    
    //For deciding which tile should come over which one!
    $('.slide-out-input').on('click',function(){
        $('.slide-out-controller').css('z-index',0);
	$(this).css('z-index',1);
	});
    $('.slide-out-controller').on('click',function(){
	$('.slide-out-input').css('z-index',0);
	$(this).css('z-index',1);
	});
    /*Slide out feature ends
     */
    $('#accordion').accordion();
    $('.dropdown-toggle').dropdown();
    $('.popups').popover();
    /*  Adding tab feature to the input tile   */
    $('#myTab a').click(function (e) {
      e.preventDefault();
      $(this).tab('show');
    });
    
    /*Loading Data Driven view 
     */
    model=new dataDrivenModel();
    view=new dataDrivenView(model);
    controller=new dataDrivenController(model,view);
    controller.initialize();   
    
    
    
    
    $('#dataDriven-tab').on('click',function(){
      //WARNING PROMPT
	  
      $(this).update({to:'dataDriven'});
    });
    
    $('#simulationDriven-tab').on('click',function(){
      //WARNING PROMPT
      $(this).update({to:'simulationDriven'});
    });
    
     
    /* Array while holds the list of exp.js files already loaded*/    
    var expLoaded=['binomialCoin'];
     Experiment=binomialCoin;
    /* Ball and Urn Experiment   */
    $('#ballAndUrn').click(function(){
      //alert('1');
      if($.inArray('ballAndUrn', expLoaded)==-1)      //check whether the experiment script is already loaded
	  {
	    $.getScript("js/exp/ballAndUrn.js",function(){
		console.log('file has loaded!');
		Experiment=ballAndUrn;
		//Initializing
		alert(Experiment);
		Experiment.initialize();
	    });
	      //head.js("js/exp/ballAndUrn.js");          //loading the Ball and Urn Script
	    expLoaded.push('ballAndUrn');   //Making a entry in the array of loaded experiment scripts
	  }
        
    });
    
  }); //document ready function
}); //head.js ready function
</script>
</html>
