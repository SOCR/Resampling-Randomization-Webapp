<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Meta data -- For SEO -->
    <meta charset="utf-8">
    <title>SOCR Randomization and Resampling Web-App</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Simulation App,Randomization and Resampling App">
    <meta name="author" content="selvam,ashwini,ivo">
  
    <!-- head.js ... its a javascript loader tool -->
    <script src="js/lib/head.min.js"></script>

    <!-- Le styles -->
    <!--<link rel="stylesheet" href='http://fonts.googleapis.com/css?family=Lato:400,900'  type='text/css'>-->
    <link rel="stylesheet" href="css/bootstrap.css" >
    <link rel="stylesheet"href="css/stylePagination.css" >
   <link rel="stylesheet" media="screen" href="css/jquery-ui.css"> 
    <link rel="stylesheet" media="screen" href="css/input/table.css">
	<link rel="stylesheet" type="text/css" href="css/jquery.jtweetsanywhere-1.3.1.css" />
   	<link rel="stylesheet" href="css/common.css" >
    <link rel="stylesheet" href="css/vis.css" >
	<link rel="stylesheet" href="css/default-table.css" >
   	<!--<link rel="stylesheet" type="text/css" href="css/SOCR_Tools_style.css">-->
     <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <style>

    /* Style support for SOCR footer */
    #footer{
	background-color: #e5f0fc;
	border: 1px solid #ccc;
	border-bottom: 0;
	clear: both;
	padding:2px 0px;
	text-align:center;
	}

    </style>
    
  </head>

<body>
  <div id='header'>
		<div class="navbar navbar-fixed-top">
			<div class="navbar-inner">
				<div class="container-fluid">
					<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<a data-toggle="modal" href="#aboutDesc" class=" brand" >SOCR</a>
					<div class="nav-collapse">
						<ul class="nav">
							<li><a  href="http://wiki.stat.ucla.edu/socr/index.php/SOCR_ResamplingSimulation_Activity" target='_blank'>About</a></li>
							<li><a data-toggle="modal" href="#simulationDesc">Simulations</a></li>
							<!--<a data-toggle="modal" href="#help"><button class='btn btn-danger' >Need Help!</button></a>-->
							<li><a data-toggle="modal" href="#faq">FAQ</a></li>
							<a data-toggle="modal" href="#share"><button class='btn btn-success' >Buzz</button></a>
							<a data-toggle="modal" href="#generate-url"><button class='btn btn-success' id='share-instance-button'>Share Instance</button></a>
						</ul>
		  			</div><!--/.nav-collapse -->
					<a href="#" class=" brand" style='margin-left:10%' >Statistical Online Computational Resource - Resampling WebApp</a> 
				</div>
			</div>
		</div>
	</div><!--/.header -->
	<div id='main'>
		<!-- The Welcome Splash Screen -->

		<div id='welcome'>
			<div class="welcome-container">
			<div>
				<span><h2 class="font welcome-title">SOCR</h2></span>
			</div>
			<div>
				<span class="font" >Statistical Online Computational Resource - Resampling WebApp &nbsp;</span> 
				
				<div><button id="startApp" class="btn btn-primary btn-large" disabled> Initialising ... </button></div>
			</div>
			</div>
		</div>

		<div class="container-fluid main-wrap">
			<div class="row-fluid">
				<div class='span8'>
					<div id='accordion'>
						<h3><a href="#">Data Driven</a></h3>
						<div>
							<!-- Abandoning the old tab based switch mode for drag and drop -->
							<section class = "datadriven-wrap copy">
							
									<section class = "controls">
										<input class="btn" type='button' value='Use Entire Dataset'>
										<input class="btn btn-danger" type='button' value='Reset'>
										<span class="response"></span>
										<!--
										Range : <input type="text" name="start" class="input-mini" placeholder="start"> - <input type="text" name="end" class="input-mini" placeholder="end">  
										-->
										<input type="button" class="btn" value="Use Selected" id="submatrix_spreadsheet" disabled = "disabled"> 
										<a class = "dragdrop btn btn-info" > Fetch from URL </a>
										<div class="btn-group">
											<a class ="btn dropdown-toggle" data-toggle="dropdown" href="#">
											 Settings <i class="icon-wrench"></i>
											 <span class="caret"></span>
											</a>
											<ul class="dropdown-menu">
												<li><a class="edittitles" data-toggle="modal" href="#input-modal"> Edit titles </a></li>
											</ul>
											</a>
										</div>
									</section>

									<div class = "spreadsheet">

										<section id="fetchURL">
											<form class="form-inline">	
											<input type="url" name="urlbox" class="input-xlarge" placeholder="Enter URL">
											<input type="submit" value="Submit" name="submit">
											<div class="btn-group" style='float:left;margin-right:10px'>
												<button class="btn btn-success">Choose</button>
												<button class="btn btn-success dropdown-toggle"><span class="caret"></span></button>
												<ul class="dropdown-menu">
													<li><a href="#" id='fetchinstant'>Instantaneous</a></li>
													<li><a href="#" id='fetchasync'>Asynchronous</a></li>
												</ul>
										  </div>
											</form>
										</section>
										<section id="drop"> Drag and Drop your URL here </section>
										<div id="status"></div>	
									 	<div class="dataTable spreadsheet_copy" id="input"></div>
									 	
										
									</div>

							</section>
							<!--
							<div class="tabbable">
										<ul class="nav nav-tabs">
											<li class="active"><a href="#spreadsheet" data-toggle="tab">Spreadsheet</a></li>
											<li><a href="#dragdrop" data-toggle="tab">Drag Drop</a></li>
										</ul>
							</div>
							<div class="tab-content" class="datadriven-wrap">
								 <div class="tab-pane active" id="spreadsheet">
									<section class = "datadriven-wrap copy">
							
									<section class = "controls">
										<input class="btn" type='button' value='Done'>
										<input class="btn btn-danger" type='button' value='Reset'>
										<span class="response"></span>
										Range : <input type="text" name="start" class="input-mini" placeholder="start"> - <input type="text" name="end" class="input-mini" placeholder="end">  <input type="button" class="btn" value="Generate submatrix" id="submatrix_spreadsheet"> 
									</section>

									<div class = "spreadsheet">

										<div id="status"></div>	
									 	<div class="dataTable spreadsheet_copy" id="input"></div>
									 	
										
									</div>

									</section>

								</div>

								<div class="tab-pane" id="dragdrop">

								<section class = "datadriven-wrap drag">

									<section class = "controls ">
										<input class="btn" type='button' value='Done'>
										<input class="btn btn-danger" type='button' value='Reset'>
										<span class="response"></span>
										Range : <input type="text" name="start" class="input-mini" placeholder="start"> - <input type="text" name="end" class="input-mini" placeholder="end">  <input type="button" class="btn" value="Generate submatrix" id="submatrix_spreadsheet"> 
									</section>

								  <div class="spreadsheet">

								  	
								  	<div class="alert-response"><div>
								  	<div id="dropmatrix" class="dataTable spreadsheet_drag"></div>
								  </div>
								

								</section>
								</div>

							</div> -->		
									
						</div>	
								
						<h3>
							<a href="#">DataSet <i class="icon-question-sign popups" rel="popover" data-content="It is graphical view of the dataset from where the random samples are generated.Goto input tab to get started!" data-original-title="Dataset"></i></a>
						</h3>
						<div class='q'>
							<div id="dataset" style='height: 150px;'></div>
							<h6>Generated Resample: <i class="icon-question-sign popups" rel="popover" data-content="This section contains all the datapoints in 1 random sample generated from the dataset. Switch to datadriven mode after the simulation. Then goto controller -> step button" data-original-title="Generated Sample"></i></h6>
							<div id="generatedSamples"></div>
						</div>		
						<h3>
							<a href="#">Inference Plot <i class="icon-question-sign popups" rel="popover" data-content="It is graphical view of the dataset from where the random samples are generated.Goto input tab to get started!" data-original-title="Inference Plot"></i></a>
						</h3>
						<div id='dotplot'> First go to the controller tile and run the experiment to generate some random samples(example. 1000 samples).Then press "infer" to see the histogram!</div>
							<h3>
								<a href="#">Simulation Info <i class="icon-question-sign popups" rel="popover" data-content="It is graphical view of the dataset from where the random samples are generated.Goto input tab to get started!" data-original-title="Simulation Info"></i></a>
							</h3>
						<div id='details'></div><div id="contribution-details"></div>
					</div>
					<a class="input-handle" href='#'>
						<button class='btn-primary btn-large'>Input</button>
					</a>	
					<div id="slide-out-input" >
						<h3> Input 
							<i class="icon-question-sign popups" rel="popover" data-content="There are two ways to generate a dataset (from which we will draw random samples). <b>Data Driven :</b> Choose this if you want to enter your custom data. <b>Simulation Driven:</b> Choose this if you want to use a pre-defined experiment to generate a dataset for you!" data-original-title="What is Input Data?">
							</i>
						</h3>
						<!-- Add data-toggle="buttons-radio" for radio style toggling on btn-group -->
						<ul id='myTab' class="nav nav-tabs">
							<li class="active"><a href="#dataDriven-content" id='dataDriven-tab' data-toggle="tab" >Data Driven</a></li>
							<li ><a href="#simulationDriven-content" id='simulationDriven-tab' data-toggle="tab" >Simulation Driven</a></li>
						</ul>
						<div id="myTabContent" class="tab-content">
							<div class="tab-pane fade active in" id="dataDriven-content">
								<div style='width:415px'>
									<p>
									<a data-toggle="modal" href="#"><button class='btn' id='inputEditButton' >Input/Edit Data</button></a>
										<i class="icon-question-sign popups" rel="popover" data-content="If you have run the simulation once, then the data is already loaded into the app OR Input/Drag and Drop a URL to fetch data from it OR manually enter data by clicking on the Edit/Input button." data-original-title="How to input data?"></i>
									</p>
									
								</div>
							</div>
							<div class="tab-pane fade" id="simulationDriven-content">
								<p style='width:400px'>There are many experiments available which generate samples and dont require the user to enter the sample set/data.<span><i class="icon-question-sign popups" rel="popover" data-content="Choose a experiment from the list to start generating samples!" data-original-title="Simulation Driven"></i></span>
								</p>
								<div class="btn-group" style='float:left'>
									<button class="btn btn-success">Choose</button>
									<button class="btn btn-success dropdown-toggle"><span class="caret"></span></button>
									<ul class="dropdown-menu">
										<li><a href="#" id='binomialCoin'>Binomial Coin Toss</a></li>
										<li><a href="#" id='ballAndUrn'>Ball And Urn</a></li>
										<li><a href="#" id='card'>Card Experiment</a></li>
									</ul>
							  </div>
							  <div style='float:right'><strong>Current Experiment:</strong><h6 class='current-experiment'>Binomial Coin Toss<i class="icon-question-sign popups" rel="popover" data-content="The random experiment consists of tossing n coins, each with probability of heads p. Random variable Y gives the number of heads, and random variable M gives the proportion of heads. These are recorded on each update in the data table. Either Y or M can be selected with the list box. The probability density function and moments of the selected variable are shown in blue in the distribution graph blue and are recorded in the distribution table. On each update, the empirical density function and moments of the selected variable are shown in red in the distribution graph and are recorded in the distribution table. The parameters n and p can be varied with scroll bars." data-original-title="Description"></i></h6> </div>
							</div>
						 </div><!--/myTabContent-->
					</div><!--/slide-out-input-->
					<a class="controller-handle" href="#"><button class='btn-primary btn-large '>Controller</button></a>
					<div id="slide-out-controller" >
						<h3>Controller</h3>
						<div id='controller-content'>
							<div class="alert alert-error"><a class="close" data-dismiss="alert" href="#">x</a>Choose a experiment from "simulation drive" or enter data in the "data drive" first!</div>
						</div>
					</div><!--/slide-out-controller-->
		  		</div><!--span8-->
				<div class="span4">
					<h3>Sample List 
						<span>
							<i class="icon-question-sign popups" rel="popover" data-content="It shows the list of generated samples when the show button is pressed." data-original-title="Sample List"></i>
						</span>
					 </h3>
					
					<div style='padding-bottom:20px;'>
						<span class="badge badge-warning">Samples Generated: <span id='displayCount'>0</span></span>
						<span class="badge badge-success">Showing <span id='showCount'>0</span> samples</span>
					</div>  
					<div id='showListSlider'>
						<div id="range"></div>
						<div>
							<input type='text' class='show-list-start' placeholder='start' style='width:60px'> - <input type='text' class='show-list-end' placeholder='end' style='width:60px'>
						</div>
						<div><button class='btn' type="button" id="showButton" tabindex="2" title="Show!" >Show!</button></div>
					</div>
					<br>
					<div id='sampleList'>
					<!--sampleList-->
						<div id='pagination'>
						</div>
					</div>
					<div class='pagination'>
					<!--Page Numbers-->
					</div>
				</div><!--span4-->
      
			</div><!--row-->
			<hr>
      <!--
      Following divs are for the modal windows.
      -->
			<div id="help" class="modal hide fade">  
				<div class="modal-header">
					<a class="close" data-dismiss="modal">X</a>
					<h3>Something bothering You?</h3>
				</div>
				<div class="modal-body">
					<div>Please feel free to drop a mail at xyz@gmail.com</div>
				</div>
			</div>
			<div id="input-modal" class="modal hide fade">
				<div class="modal-header">
					<a class="close" data-dismiss="modal">X</a>
					<h3>Input Content</h3>
				<div class="modal-body">
				 &lt; Content &gt;
				</div>	
			</div>
			<div id="share" class="modal hide fade">  
				<div class="modal-header">
					<a class="close" data-dismiss="modal">X</a>
					<h3>What are People Saying!</h3>
				</div>
				<div class="modal-body">
					<h4>Tweet</h4>
					<div id='tweetbox'></div>
					<div id='tweetFeed'></div>
				</div>
			</div>
			<div id="generate-url" class="modal hide fade">  
				<div class="modal-header">
					<a class="close" data-dismiss="modal">X</a>
					<h3>Choose the variables and hit generate!</h3>
				</div>
				<div class="modal-body">
					<div id='settings'></div>
					<div class = "generate-response"></div>
				</div>
				
				<div class="modal-footer">
					<input type="text" id="url" class="input-large" value="url..." style="float:left"><a id='generate-url-button' class="btn btn-primary">Generate</a>
				</div>
				
			</div>
			<div id="inputTile" class="modal hide fade">  
				<div class="modal-header">
					<a class="close" data-dismiss="modal">X</a>
					<h3>Data Input </h3>
				</div>
				<div class="modal-body">
					<div id="input-table" class="dataTable"></div>
					<div id='status'></div>
				</div>
			</div>
			<div id="plot" class="modal hide fade">  
				<div class="modal-header">
					<a class="close" data-dismiss="modal">X</a>
					<h3>Sample Plot</h3>
				</div>
				<div class="modal-body">
					<div class='chart'></div>
				</div>
			</div>
			<div id="aboutDesc" class="modal hide fade">  
				<div class="modal-header">
					<a class="close" data-dismiss="modal">X</a>
					<h3>SOCR</h3>
				</div>
				<div class="modal-body">
					<p>The goal of this project is to design a modern and portable SOCR web-app that demonstrates the concepts of statistical analysis such as resampling, randomization and probabilistic simulation and runs seamlessly across varied devices. The application will be based on HTML5, CSS3 and JavaScript framework</p>
				</div>
				<div class="modal-footer">
					<a href="http://socr.ucla.edu" class="btn btn-primary">HomePage</a>
				</div>
			</div>
			<div id='simulationDesc' class="modal hide fade">
			    <div class="modal-header">
					<a class="close" data-dismiss="modal">X</a>
					<h3>Simulations</h3>
				</div>
				<div class="modal-body">
					<p>There are a list of simulation experiments you can choose from to create the dataset for further analysis. Currently we have 4 experiments installed into the App. More are soon to come!</p>
					<ul>
						<li>Coin Toss </li>
						<li>Ball and Urn</li>
					</ul>
				</div>
			</div>
			<div id='faq' class="modal hide fade">
			    <div class="modal-header">
					<a class="close" data-dismiss="modal">X</a>
					<h3>FAQ</h3>
				</div>
				<div class="modal-body">
					<h4>Visiting for the first time?</h4>
					<p>So, This is basically a simulation app for drawing important inferences from either user provided data OR simulation generated data. It uses the bootstrap algorithm to draw random samples from a dataset to calculate the relevant parameters.</p>
					<h4>How to generate data using the inbuilt simulations?</h4>
					<p>
						<ol>
							<li>First choose a pre-loaded experiment from the list in the input tile {which opens up when you click on the blue <b>input</b> vertical button }.</li>
							<li>Set the parameters in the controller tile.</li>
							<li>Generate a dataset to draw random samples from.</li>
							<li>Generate a lot random samples  by pressing the green <b>run</b> button.</li>
							<li>Set the range of samples you want to see in the SampleList (on the right side of the page) and click <b>show</b> button.</li>
							<li>Choose the variable from the drop down in the controller tile and click on the red <b>infer</b> button to see the visualization.</li>
						</ol>
					</p>
					<h4>What is this share instance button?</h4>
					<p>Incase you want to share your app with the data loaded {not the generated random samples} and the predefined settings. You can just generate the url are {click the share instance}and share it with anyone you like !</p>
					<h4>What inference can I deduce from this application?</h4>
					<p>Currently we support 4 variables. <b>Mean , Count ,Standard Deviation , Percentile</b> .</p>
					<h4>Where can I find the documentation for the SOCR webapp?</h4>
					<p>We will be shortly uploading the API along with a documentation.</p>
					<h4>How to install my own experiment into SOCR webapp?</h4>
					<p>We will be shortly uploading the API along with a documentation.</p>
					
				</div>
			</div>
			<div id='footer'>

			<!-- Start SOCR footer -->
			<!--
				<a href="http://www.socr.ucla.edu/">SOCR Resource</a>
				Visitor number <img src="http://counter.digits.com/wc/-d/4/SOCR"
				align="middle" border="0" height="20" hspace="4" vspace="2" width="60">,
				since Jan. 01, 2002 <script type="text/javascript"> var d=new Date(); document.write(" | "+d.getFullYear()+" | "); </script> <a
				href="http://socr.ucla.edu/SOCR_Email.png"><img alt="SOCR Email"
				title="SOCR Email" src="http://www.socr.ucla.edu/SOCR_Email.png"
				style="border: 0px solid ;"></a>
			-->
			</div>
		</div><!--/.fluid-container-->
	</div> <!-- main -->
</body>
    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <!--<script type='text/javascript' src="http://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.min.js"></script>-->
<script type='text/javascript'>
    
    head.js("js/init.js",
    		"js/lib/jquery.min.js",
    		//"js/input/table.js",
            "js/bootstrap/bootstrap-transition.js",
            "js/bootstrap/bootstrap-alert.js",
            "js/bootstrap/bootstrap-tab.js",
            "js/bootstrap/bootstrap-button.js",
            "js/bootstrap/bootstrap-modal.js",
            "js/bootstrap/bootstrap-dropdown.js",
            "js/bootstrap/bootstrap-scrollspy.js",
            "js/bootstrap/bootstrap-tooltip.js",
            "js/bootstrap/bootstrap-popover.js",
            "js/bootstrap/bootstrap-collapse.js",
            "js/bootstrap/bootstrap-carousel.js",
            "js/bootstrap/bootstrap-typeahead.js",
			{coreFunctions:"js/exp/core.js"},
			{binomialCoin:"js/exp/binomialCoin.js"},
			{ballAndUrn:"js/exp/ballAndUrn.js"},
			{cardExp:"js/exp/cardExp.js"},
            {inputTile:"js/input/inputtable.js"},
            //{InputTile:"js/input/script.js"},
			{Model:"js/appModel.js"},
			{View:"js/appView.js"},
			{Controller:"js/appController.js"},
			"js/lib/jquery-ui.min.js",
			{D3:"js/vis/d3.v2.min.js"},
			"js/vis/histogram.js",
			"js/jquery.paginate.js",
			//"js/exp/socr.js",
			"js/update.js",
			"js/lib/jtweet/jquery.jtweetsanywhere-1.3.1.min.js",
			"js/lib/jquery.transit.min.js",
			"js/lib/jquery.easing.1.3.js",
			//"js/input/dragdrop.js",
			"js/input/data.js",
			"js/vis/tooltip.js",
			"js/tools/FCal.js"
	    	);
    
	head.ready(function () {
		
		var url = window.location.href;
		var baseUrl = url.substring(0, url.indexOf('index.html'));
		if(baseUrl =='')
			baseUrl=url;
		/*
		GLOBAL VARIABLES...TO BE ACCESSED FROM {experiment}.js files.
		** BAD practice.litering global namespace

		@Latest Revision: Segregrating all global variables to the necessary SOCR sub-object
		*/
		socr.exp.inputSliderState = 0;
		socr.exp.controllerSliderState = 0;
		
		/*
		*Loading MVC
		*/
		model = new socr.model();
		view = new socr.view(model);
		controller = new socr.controller(model,view);
		
		/*
		*  CoverPage rendering
		*/

		view.CoverPage();

		document.onreadystatechange = function(){
			 if (document.readyState == 'complete'){
			 	/* All resources are loaded */
			 	$('#startApp').removeAttr('disabled')
			 					.html('Launch')
				};
		}
		
		
		/*
		 * Resize event adjusts the cover page accordingly
		 */
		$(window).resize(function(){
			console.log('Coverpage function')
			view.CoverPage();
		});
		
		$(document).ready(function(){
					
			/*
			 * Initialize the controller 
			 */
			controller.initialize();   
					
			$('.input-handle').on('click',function(){
				$target = $('#slide-out-input');
				//console.log($(this).attr('href'));
				if(!$target.hasClass('active'))
				{
					$target.addClass('active').show().css({left:-425}).animate({left: 0}, 500);
					$(this).css({left:-20}).animate({left: 410}, 500);
					socr.exp.inputSliderState=1;
				}
				else
				{
					$target.removeClass('active').animate({
							left: -425
						}, 500);
					$(this).css({left:400}).animate({left: -20}, 500);
					socr.exp.inputSliderState=0;
				}
			}); //input-handle click
			
			$('.controller-handle').on('click',function(){
				$target = $('#slide-out-controller');
				//console.log($(this).attr('href'));
				if(!$target.hasClass('active'))
				{
					$target.addClass('active').show().css({left:-425}).animate({left: 0}, 500);
					$(this).css({left:-30}).animate({left: 394}, 500);
					socr.exp.controllerSliderState=1;
				}
				else
				{
					$target.removeClass('active').animate({
							left: -425
						}, 500);
					$(this).css({left:400}).animate({left: -30}, 500);
					socr.exp.controllerSliderState=0;
				}
			});//controller-handle click		
		
			$( "#speed" ).slider({
				value:400,
				min: 200,
				max: 2000,
				step: 50,
				slide: function( event, ui ) {
				$( "#speedCount" ).html( ui.value );
				}
			});
			/* Array while holds the list of exp.js files already loaded*/    
			var expLoaded=['binomialCoin'];

			socr.exp.current = socr.exp.binomialCoin; //The default Experiment
			
			$('#binomialCoin').click(function(){
				$('.current-experiment').html('Binomial Coin Toss<i class="icon-question-sign popups" rel="popover" data-content="The random experiment consists of tossing n coins, each with probability of heads p. Random variable Y gives the number of heads, and random variable M gives the proportion of heads. These are recorded on each update in the data table. Either Y or M can be selected with the list box. The probability density function and moments of the selected variable are shown in blue in the distribution graph blue and are recorded in the distribution table. On each update, the empirical density function and moments of the selected variable are shown in red in the distribution graph and are recorded in the distribution table. The parameters n and p can be varied with scroll bars." data-original-title="Description"></i>');

				model.reset();

				socr.exp.current=socr.exp.binomialCoin;
				socr.exp.current.createControllerView();
				socr.exp.current.initialize();
				if(socr.exp.inputSliderState!=0)
					$(".input-handle").trigger("click");
				if(socr.exp.controllerSliderState==0)
					$(".controller-handle").trigger("click");
			});
			
			/* Ball and Urn Experiment   */
			$('#ballAndUrn').click(function(){
				$('.current-experiment').html('Ball and Urn <i class="icon-question-sign popups" rel="popover" data-content="The experiment consists of selecting n balls at random from an urn with m balls, r of which are red and the other m-r green. Random variable Y gives the number of red balls in the sample, and is recorded on each update in the data table. Random variable U=(m/n)Y is the standard estimate of r with m known, and random variable V=(nr)/Y is the standard estimate of m with r known. These are also recorded on each update. The probability density function and moments of Y are shown in blue in the distribution graph and are recorded in the distribution table. On each update, the empirical density function and moments of Y are shown in red in the distribution graph and are recorded in the distribution table. Either of two sampling models can be selected with the list box: with replacement and without replacement. In the first case, Y has a binomial distribution and in the second case Y has a hypergeometric distribution. The parameters m, r, and n can be varied with the input controls." data-original-title="Description"></i>');
				
				if($.inArray('ballAndUrn', expLoaded)==-1)      //check whether the experiment script is already loaded
				{
					$.getScript(baseUrl+"js/exp/ballAndUrn.js",function(){
						console.log('ballAndUrn.js file has loaded!');
						model.reset();

						socr.exp.current=socr.exp.ballAndUrn;
						//Initializing
						socr.exp.current.createControllerView();
						socr.exp.current.initialize();
						if(socr.exp.inputSliderState!=0)
							$(".input-handle").trigger("click");
						if(socr.exp.controllerSliderState==0)
							$(".controller-handle").trigger("click");
					});
					  //head.js("js/exp/ballAndUrn.js");          //loading the Ball and Urn Script
					expLoaded.push('ballAndUrn');   //Making a entry in the array of loaded experiment scripts
				}
				else
				{
					 socr.exp.current=socr.exp.ballAndUrn;
						//Initializing
					socr.exp.current.createControllerView();
					socr.exp.current.initialize();
				}

				console.log(socr.exp.current)
			});
			
			/* Card Experiment   */
			$('#card').click(function(){
				$('.current-experiment').html('Card Experiment <i class="icon-question-sign popups" rel="popover" data-content="The card experiment consists of dealing n cards at random (and without replacement) from a standard deck of 52 cards. The cards (X1,X2,…,Xn) are recorded on each run. The parameter n can be varied from 1 to 12 with the input control." data-original-title="Description"></i>');
				if($.inArray('cardExp', expLoaded)==-1)      //check whether the experiment script is already loaded
				{
					$.getScript(baseUrl+"js/exp/cardExp.js",function(){
						console.log('cardExp.js file is loaded!');
						model.reset();
						socr.exp.current =socr.exp.cardExp;
						//Initializing
						socr.exp.current.createControllerView();
						socr.exp.current.initialize();
						if(socr.exp.inputSliderState!=0)
							$(".input-handle").trigger("click");
						if(socr.exp.controllerSliderState==0)
							$(".controller-handle").trigger("click");
					});
					  //head.js("js/exp/ballAndUrn.js");          //loading the Ball and Urn Script
					expLoaded.push('cardExp');   //Making a entry in the array of loaded experiment scripts
				}
				else
				{
					socr.exp.current=socr.exp.cardExp;
						//Initializing
					socr.exp.current.createControllerView();
					socr.exp.current.initialize();
				}
			});

			
		
		var urlParams = {};
		(function () {
			var match,
				pl     = /\+/g,  // Regex for replacing addition symbol with a space
				search = /([^&=]+)=?([^&]*)/g,
				decode = function (s) { return decodeURIComponent(s.replace(pl, " ")); },
				query  = window.location.search.substring(1);

			while (match = search.exec(query))
			   urlParams[decode(match[1])] = decode(match[2]);
		})();

	
		if(urlParams.type!==undefined)
			{
			//type=urlParams.type;
			console.log("dataset:"+urlParams.dataset);
			console.log("nSize:"+urlParams.nSize);//datapoints
			console.log("countSize:"+urlParams.countSize);
			//urlParams.variable;
			$("#dataDriven-tab").trigger('click');
			$("#nSize").val(urlParams.nSize);
			$("#countSize").val(urlParams.countSize);
			
			model.setDataset({
					data:urlParams.dataset,
					processed:false,
					type:'url'
					});
					
			view.loadInputSheet(urlParams.dataset.split(","));

		$('section .response').html('Data loaded successfully! Just go to controller tile and start generating random samples!<i class="icon-ok"></i>').show();
			//$("#countSize").val(urlParams.variable);
			}
			
		$("#share-instance-button").on('click',function(){
			$('.generate-response').html('');
			var html="<p>Dataset:<strong>"+model.getDataset()+"</strong></p>";
			html+="<p>Count Size:<strong>"+$("#countSize").val()+"</strong></p>";
			html+="<p>datapoints:<strong>"+$("#nSize").val()+"</strong></p>";
			$("#settings").html(html);
			
		});
		
		$("#generate-url-button").on('click',function(){
			if(model.getDataset()!=''){
				
				$("#url").val(baseUrl+"index.html?"+"type=url&dataset="+model.getDataset()+"&countSize="+$("#countSize").val()+"&nSize="+$("#nSize").val());
				}
			else{
				
				console.log('Dataset not initialised');
				var alertblock = '<div class="alert alert-block">Dataset not initialised</div>';
				$('.generate-response').html(alertblock);

				}
		});
		 $('.input-controls').delegate('td','mousedown',function(){
  					table.startEdit( $(this) );
  					//console.log('Logging function called')
				 });
			 $('.input-controls').delegate('input#generateMatrix','click',function(){
			 	console.log('Table Generated');
			 	console.log(table.getMatrix());
			 	//console.log(table.getMatrix)
			 })
			 $('.input-controls').delegate('input#submatrix','click',function(){
			 	var start = $('.input-controls').find('input[name="start"]').val(),
			 		end =   $('.input-controls').find('input[name="end"]').val();

			 	 table.generateSub(start, end);
			 })

		}); //document ready function
	}); //head.js ready function
</script>


<!-- Start of StatCounter Code -->
<!--
	<script type="text/javascript">
		var sc_project=5714596; 
		var sc_invisible=1; 
		var sc_partition=71; 
		var sc_click_stat=1; 
		var sc_security="038e9ac4"; 
	</script>
	<script type="text/javascript" src="http://www.statcounter.com/counter/counter.js"></script>
<!-- End of StatCounter Code -->
	
<!-- GoogleAnalytics -->
<!--
	 <script src="http://www.google-analytics.com/urchin.js" type="text/javascript"> </script>
	  <script type="text/javascript"> _uacct = "UA-676559-1"; urchinTracker(); </script>
<!-- End of GoogleAnalytics Code -->


</html>


