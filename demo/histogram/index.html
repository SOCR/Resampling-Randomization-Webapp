<!doctype html>
<title>Visualization Test</title>
<script src="../../js/lib/jquery.min.js"></script>
<script src="d3.v2.min.js"></script>
<script>
var socr = {};
</script>
<script src="vis.js"></script>
<link rel="stylesheet" href="vis.css"></link>
<style>
*{
	font-family:Arial,Verdana
};
body{
	margin:20px auto;
	text-align:center;
}
h3{
	text-align:center;
}
</style>
<body>
 <h3>Visualization Demo</h3>
 <hr>
<div class = "chart">
</div>
<p> Choose Method : 
<select id="method">
	<option>sturges</option>
	<option>thumbRule</option>
	<option>discrete</option>
	<option>decimal</option>
</select>
<input type="submit" id="submit">
</p>
<textarea id="data-input" rows="5" cols="100">0.6537832159884805,0.7157923180549015,1.0271340695889934,1.5411006050098865,0.7897936293929039,2.5032859843247213,0.8180445460431937,0.4699004164263129,0.6227436597515604,2.131769926197918,1.7750582663162604,0.4530201153821709,0.6387296055630979,0.6568392514207464,1.0264877113500281,0.4743739987805478,1.4353569632504017,0.15123936132681975,0.5747812788063384,0.9894996270017814,1.0068875365630157,0.09981687065895888,2.86358556001332,1.6945800394523276,1.9545758642263216,0.9343012950668155,1.1650099247744665,1.1677540841784422,0.88794448083181,1.4603227862205905,2.196919363992797,2.4406444132613125,2.0255435401732327,0.7484846496434652,1.4319253316198033,1.026636956203659,0.8942749377761842,0.6278101724869003,0.14354279800249345,1.3175248564656354,5.954270040481143,1.6896526539700016,0.9045833845448322,1.0620370064609652,1.9359905043071477,2.2891496267381037,1.2439764944972718,1.034032320303489,0.7427911433503971,2.91151231570113,1.048016941163453,0.28305214438116477,0.9432400297449319,1.125775255379736,0.2170688846523825,1.1965517104178995,0.7964958111731019,1.9373603171440366,0.7722020273976378,1.3495652900933899,0.3921372858897884,2.108517657954197,0.7414044718171301,0.3883200881687735,0.7540553879693999,1.8224416108169612,0.34325063412704476,1.2211950598929675,0.3553797578548443,0.8548680767645607,1.7616755783420555,0.6209758445858713,1.8756639083044901,1.3808163446145847,0.26233100357904837,3.277322098399196,1.2321428777353833,1.074866472780754,2.9562023491324,1.2127440290107756,0.6870368514151427,0.7588884885930003,1.4477633944385468,0.6273040944630786,0.868689210770741,0.3329724332110062,0.14814949876824812,0.8624304522954116,1.5456860092548057,0.8932926647554008,1.6477832355785562,1.379532548499094,1.2622420723198315,1.7606612267585875,3.7752366714372956,1.6440447117279975,2.101514063945718,2.3682719890200787,1.577235817547264,1.1064132099394894,0.5773479937921404,0.598866446055367,1.1591861443913014,0.9656909532969359,0.6777024580156682,1.2051290188601627,0.8105654407987725,1.3494378354678813,0.5210341691795295,0.35084368366301416,0.19652429168792482,0.4532265775133117,0.28725388922731915,2.4912261522042716,1.2949374405500893,1.025263490052303,0.824147694430589,0.4911922966877808,0.5019206692748541,0.27796014348417164,1.068442097937087,0.4378908644343439,1.4842861420118032,2.1321929675759748,1.2036352478945063,1.9956824857524555,0.9664190326821399,1.065042704433354,1.6732771405490872,1.5054253368880295,1.718739158692855,0.6648034137309005,0.7081907207963012,2.058593797979974,1.0747517978246928,0.7630283779542926,2.347517389464759,0.26633204333300736,0.7232390106290157,2.640458356264703,0.5171003507332035,0.4944882858754753,1.4628412087652445,2.4312868708497817,1.2311326142330918,1.3256312702681297,1.1525880268084292,1.3739166662351914,0.6250675990463381,0.7132064906832883,2.1271955599764496,1.283502804096425,0.35386359399915546,0.5085939366288414,1.5088489300230659,1.3960482684720668,0.5029806321551064,1.7425358206061252,0.8723055071045062,1.5776841334316496,0.11265181531992281,1.6217746199934204,1.132916082582399,1.9050930531951609,1.0304578777384554,1.0582998178364726,0.28281112342249837,0.3840720570363768,0.9360731400553185,0.4734211057415305,0.4023302816940942,3.5863111247780393,2.4825183139060356,1.3116964032447165,0.8313504350365232,0.695676153820253,1.417937364360074,0.6276433139267216,0.8294872155621162,0.13944330164906762,1.7395962201442836,0.6548851084609933,0.9054617126442436,0.3909666298425461,1.5013440078633133,0.3857602378599881,0.10017696531000016,0.1829068370304765,0.7234089280263006,1.139728970632858,1.5161083319432886,1.5306727213219744,0.44368047657098303,0.7724698180295727,0.22218579958582393,0.782833620793566,0.8966536190483415,0.9951169712856811,0.8061498349007655,1.1669366813275204,0.861781734449243,1.478571995758298,0.1258300636835768,1.6248234748088413,1.3139725022437463,0.5006792605258572,0.22722825676461783,1.7508566936330214,0.4679111446416106,0.5600181212213589,0.42810171672498376,1.0953821453977037,3.6365595047823245,0.8710048231503424,0.5480299007964897,1.5376884999711173,2.378806059631099,2.3765564074305763,2.4970874633042213,2.986919053248133,2.441073675572245,0.8510129331853031,3.643758482944182,0.19182168758351006,6.326731714972244,1.0094685075046441,1.3907755126296608,0.09788622271680837,0.32107595164521713,4.894139077444723,1.17458578728453,1.227790228074337,0.8354707289575858,1.5079719397506173,0.9984786924469936,1.168377726702457,0.8151600990776132,0.5216712639618689,2.4598041241717357,1.2594060599879007,0.7716723411249543,0.2453107919395673,1.807101552695267,0.8948810541867065,0.6740108508313358,0.34566109025608366,0.18342294514742957,2.1550655415423265,2.233715613980455,0.16174810907814252,1.234268759814038,0.8126945536792158,1.8130593580888967,1.5501084420378735,1.478219239109903,1.1546471726153746,0.8302689786116787,2.212864624455821,2.357212122649638,0.48457667667149024,1.4182708150327326,1.9657646831399067,1.1020637274768705,0.4879113136305147,1.5138981755524643,3.757341949664953,0.5767932802509863,1.1933886530173647,2.053926422277199,0.8911044911503709,1.5407157934891151,0.571340423162657,0.2737030358359465,2.164125828981997,1.7581591523761282,1.0811889050151944,1.2764363725122094,0.7975836830265562,1.2733973129469496,1.724937715804863,0.3358530517377523,1.6152928944098566,2.0180649984938324,0.13669437140094257,0.9269720310716341,1.1151407702308038,1.1074374643685152,1.8809000178231396,1.4450351819797134,1.0547703626988527,1.8989608261721942,0.4457832833990545,0.9233437359218634,0.6401378850071339,0.6784944194846435,0.6082358381083504,0.26112621441992173,3.194386884648333,0.36007025442507495,1.5136799129124614,0.7378980515327394,1.3342878212580704,1.922055753240362,0.17121578436872031,0.955772347250749,1.9088935284861357,1.1804974232167573,0.35192486397677797,1.2907562361909641,1.3319091635195361,3.8126545052255976,1.0129420257300532,1.3833321092523003,2.9516210503795595,0.4949120815753502,1.480112301425602,0.22419079051727356,0.8955865746504976,0.3853946675393788,0.7937878320603037,4.384736865026564,1.2711611933706135,1.5944100852432506,2.877279405444903,1.4976784587995442,1.4462221442540983,0.3677106341488653,0.5741344322767685,1.6187250364549515,0.6469703555761608,1.0232572841982577,0.7504605645536905,1.8085707503956467,1.830073195662836,0.5948863930087946,0.874729807468387,1.711577962474286,0.3017722638498547,0.9905545606310898,0.4594143256563614,1.3923060171875783,0.651417583414939,1.964384039086921,1.6731985644383078,0.3054097188706794,0.7872167349973519,1.470897591581794,1.8239468624514341,2.483971594083195,2.59572441575469,2.3231324387491856,0.8645845834060577,1.0301064455956217,0.8133298331067286,2.1933280028322106,0.6698949908775406,0.21018991866775072,2.768396605373734,0.4026740548298683,0.344431804421693,0.533015453881283,1.9688033185203766,0.053861423362446224,0.20346221924169788,1.0070615907003406,1.819496316903702,0.5117880496741247,2.0851362614785467,1.2084827645816205,0.6984110416575958,2.0288592850482177,1.0342253505754333,1.1408753969268306,1.98644900449562,0.5539530273633105,0.10205073123007129,0.6646497579288884,0.03812050363538608,1.004771029014656,1.353470822458845,0.6040710274962889,0.2708127058679372,0.5135749263962893,1.4940288441302605,0.5400433795509938,0.4923398515160047,0.5166119884879893,1.6572229578623983,1.1501134726375377,0.7609371469494022,3.0410269531415186,2.0073638646267535,0.4119249745267043,0.7074526868868418,0.33676964698659995,1.054885200191655,1.1462474908156803,1.581729302307799,0.9660166151680256,0.7674531203915951,1.0542483607135642,0.25286287500392335,1.4332440246536964,1.5650215606481772,1.7207693994168174,1.048567419931616,0.06937918942007523,0.9842761244238152,0.7095297564821786,3.703851800494023,0.6099296960705161,0.959593390851411,1.5069127235491409,2.5148340225068035,0.7850125697509879,1.332154028198812,1.9852527361047456,1.1933885551270964,2.160571139504315,4.577685614703843,1.638356340444133,1.2113694411723246,2.6374723517973977,0.31861502759279486,1.455624132025147,1.6369972088365141,1.3367422587259246,0.6627247836602078,0.31086390764244726,3.6791220126156845,2.1683362642577073,1.8386165716672551,0.582725185489179,0.8184932544832006,0.37077831761268365,0.45451217355318335,0.6111221293765232,0.2945850520119098,0.7681896112240866,0.6878048213584109,0.4564081819480303,1.4310290937285486,0.6803668304004258,2.0856579889031006,0.22588066348899344,0.33672985425555946,0.11505785491474141,1.3402780432889851,0.45683794794338667,1.379922951212394,1.2805282220417091,0.22743123123330367,2.8058546212819677,2.81314341093325,2.066633545555341,0.8905558285229346,0.9988363997910458,0.34417999780931924,0.44524807219061524,0.6856197382271952,0.5202218498618223,0.0786754820745745,0.5740359182497021,1.177093499520526,1.0705482857801285,0.4444352160130126,0.4497680256223116,1.2743393489948416,1.2616914758624682,0.8677666982025268,0.2952693500516514,0.15916813099834273,0.9612664613598744,1.699180423617883,1.5259824071382118,1.1501514789360456,0.8250249465900641,2.3454113407766743,1.7458021042610745,0.6858630457441846,1.5120571611316667,0.3044028030656606,1.1820493746766498,0.405513730528375,0.8917829615780976,0.3543289230644031,0.12481978548109514,0.7914295244557098,1.117496943491704,0.8388789042676792,0.2094217088550873,1.4145411092115165,0.6823247769509347,0.44685619333835597,0.8251218803925024,0.14478610536066558,2.7923810130465525,0.7425194598040787,0.9283130686938157,1.9497520256716283,0.8402552789273201,0.8420743074902964,0.46752991355360785,0.6590671143402874,1.3681400070602967,0.5955109048771527,0.7199349410655365,0.21768933835000476,0.4927122768284135,0.5959141885084996,0.8758608033872025,2.04447853220043,0.7773616783439335,1.9394019569803898,0.30761989796904377,0.7448654087356102,1.5604305717786386,0.48903987793994813,1.4830322592973717,1.153441145628691,2.4721956859991416,0.4649912605455066,1.1714366979346453,0.2433190204585846,0.41809182980917753,1.3009038001851605,0.9744824661526365,1.0500369204638262,3.41021557085759,0.9994735711372127,1.366680342659843,0.8020851852370369,1.4292665610274458,0.9880053224925165,0.1482303345543479,0.9706673341842171,0.8165355699555176,1.9963736551519513,0.3622755278819162,1.4126245795294725,1.3188159054126196,1.44488237919248,0.6481845488468733,1.0018436234562367,1.1987844669292316,0.7015712520712685,1.6664167272470043,1.279691161745633,2.486694193742393,1.3891597696661029,1.4601638548786338,0.3477987168223549,5.063214503059662,1.1135908966667323,3.1948851981750406,1.090547031765573,0.7049683157752921,1.9036793911894248,1.4591157695100487,0.9792773313043847,0.07754461685398778,1.7452899967098305,0.5810063632839584,0.8591016374384282,1.0408754450926812,2.724225757206745,1.1713731748490508,0.8338788423731661,2.217939966861257,1.2609522117206344,2.515536509896205,0.7831665206802148,0.6077987877101884,0.22354607531661919,0.19891657984664066,1.104106703451326,0.2210922308007467,4.236181116683848,1.3036863545738402,1.2193980842767786,0.2085724460451192,0.8160845682332692,1.5233046076950716,0.964850053678032,0.9407992049924594,2.2803900928304484,0.4287287332067109,0.5417927956624395,0.14225763752938175,0.7150634621028534,5.607377189203207,1.3344519384600395,0.20677728761424408,1.5788133697328046,0.6721461843878932,0.32238954707759776,0.422118345858153,1.8392467340258416,0.9912530108514135,2.511206949874985,0.6048933144539446,0.9568124775528298,1.6550933372264627,0.6703904857222384,0.8398811499843827,1.012137195641055,0.6242789066193181,1.8040459032161527,0.24782146056408438,0.6234555819839569,0.9596992805212226,1.1692154899656741,1.3714138800528048,0.9264878056248215,0.6129982464483527,3.983686280593976,1.176419512257583,1.0690484246741394,0.47313720296400613,3.3694444521132856,2.4414993886466383,0.9954337278101576,0.8519653064740129,1.7717602029792578,1.6148448284432146,0.7140075899644005,1.9432872996486956,1.0336743713401668,0.8049140780725047,0.8104489761417148,0.7423198594115544,2.168288623173484,0.5012036626924574,1.154887771434284,2.2550497430756473,1.007154326953981,0.3454492077736488,5.359369214170609,2.2016537201221893,0.4030750520043989,4.631604272265068,1.3850496153018452,0.3349978245612315,0.9855137338138196,2.48252637986579,0.34182440061199443,0.31908083978978263,0.962445866792673,1.2566904300262203,2.2961393169494224,1.699807593358497,0.14109866413072178,0.9128117880246679,1.0872970313024894,0.4269919450157253,1.059037135673631,2.1446184146706897,1.8861906858820228,0.6981484520430667,0.9642161457558365,3.682143505039602,2.278301073619272,0.2755510567167659,1.0554027176387026,0.9233452740118365,2.427110450329006,1.8565811190270085,1.9224934495197017,0.716899845008714,1.014187307960641,1.2060822637934558,0.29268115156410257,1.6758022414505414,1.221405352188285,1.1248175270768948,1.3190722792574232,0.519137170681384,0.6084666802513775,2.8247468619475637,1.5394589482518415,0.260322145147142,1.253760956650472,1.0900089140087534,2.4286520630923842,0.6503715242465412,1.3221611454086393,1.3776512272380388,0.7792371274404808,0.8854173525298806,1.6403971718310226,0.47600458938172113,0.6880180125960121,2.1879185587916776,0.5406609001497272,1.208224914069495,2.4773719494999074,2.462255285093655,0.3422590653851851,1.1370719676016299,3.0892537901681445,0.49285216948484495,0.5066707848654217,1.0297918760984952,0.07857696007691155,1.9364346046092358,0.3089607387040832,1.2901622096660519,0.06047148039017928,0.42086407747517146,0.45335386858895765,1.2125082683062816,1.4139090827700134,0.9465043611382441,1.0108860946847094,0.43980902985963727,0.5682419196394317,0.9086776287893775,0.6084998219397066,1.6755197358026626,2.4666924607828458,0.5648932974674948,2.867618432768799,0.33297412797339637,1.4408391079431642,4.032093139855566,0.7308378352408252,1.5248540230245926,2.4177477239173077,2.378491683277694,0.5037778544059788,3.0750433872488796,0.6369878920760017,2.5360556731814787,1.278580842215688,2.1636238147141817,0.2783109495803678,0.38526822589726495,0.1780426722143016,0.6287151273522879,0.08007945685064827,0.9524122448356466,2.1282533788353946,0.4991353521420942,0.31182620296179664,0.8494963686157337,0.4472419894124132,1.5951925143393815,1.2905882724246336,0.5088932558325192,1.1786133106527386,0.37709702896261554,0.39536311725829476,1.1838210043611743,0.24362938706760007,1.4157045948940512,4.264148819099348,0.8817573810996541,0.43645339929408034,0.5947778576382531,2.3762952463689646,0.8965158323895194,0.2440735643151405,0.7076202161438366,1.0325731664135436,1.3127173384366224,0.6801876888377086,0.5622605562639742,0.9931294971368245,1.7070693295449912,0.947632858294921,0.35488260215991363,0.9363606031118548,0.5149490774746011,0.44441952944915913,0.890960138533099,1.5932192531436549,1.1146403129992428,0.5117448083518066,1.723463242045551,0.40531220798327494,0.9654928089712216,1.0971235169806963,1.1438352794641624,0.6782327475164747,0.7031025773051715,0.49832636276462167,0.2771836706434676,0.3726759506399835,2.5637767134102765,1.8949797252677825,0.22132091960459271,2.261201603803574,1.5571017174675605,3.1180622570479977,2.118422411436215,0.500027188249875,1.7560741666509243,2.5434584136678655,1.0496889268869616,0.4093325250263185,1.0697813322857272,1.609942228491163,1.6659059405387424,0.5671149432889253,3.003850706463323,0.3374895434165636,0.7192758340078323,0.08126399293075927,1.7974642547148447,0.9273976976024412,2.6198205237455054,0.8438237529101148,1.6093797495153672,0.7503598610925818,3.4167407059883055,1.992816218002397,1.0529308132695887,1.5549400823073787,2.140445925220521,0.3971505181404051,1.5238516404992941,0.7927639759970778,0.8835191516694558,1.9783358794709907,1.6353363015560278,0.38935292073103017,1.0739784675150696,0.6541441245854213,0.7289064166609731,1.1790537265707863,0.23175930085813998,1.7905427327433414,0.21817784852003846,0.767181841933361,1.3920876594012164,1.0007966700678426,3.440552253227063,1.2459735539652024,1.5928332096395168,1.2235251609282165,2.3320130776191226,1.1873544798894506,0.5927851902843466,0.4416509081469974,0.9252273917528173,1.1301985085917727,1.2181054520251935,1.7363365201139627,2.38922191162598,1.2803388584193116,1.3977122040055168,1.2832020578032897,1.1028151120618435,1.0949426661164103,3.847117236174923,0.5670999974641867,0.6882327185355279,0.8170990632710934,0.25065759680448,1.615577572453486,1.5787621524575344,1.0064485962819998,2.7368902534261568,1.3312584856603922,0.08421781861264922,1.2395713575966134,1.1372949711157028,0.6809208863378343,0.883783594171344,0.4743364754750039,1.116962482981654,1.5140282251845583,3.184285988876916,1.3054500064139682,0.6112519567465979,0.5766305482890745,0.03735014067226148,2.213016314886176,2.67622579655743,0.18445032579028836,2.127801500661675,1.1787896896453038,0.5561728369270738,0.6674256780467477,0.29286199069618546,1.5476533887338904,0.8815936556282344,3.0759271247819546,0.07616944410042477,0.30242459736500293,0.6186159140418741,0.365945383491168,0.12576544980665008,1.6908549252599734,0.8585967479688509,1.070485425676707,1.247447839112856,1.7961446607333211,3.030967506053902,1.3671264629528226,2.5384472212579388,0.35753823355708486,1.9055817241885245,1.886581962778338,0.6095844946391513,1.0308880543649994,2.8889803082155976,1.2982485799068022,1.310885022557157,1.176915021330259,1.1420109402522858,0.9333316289019984,0.7605256351546408,0.9850745580427988,0.35085550639634827,1.6264320165399315,0.3507329528504278,0.65449251375334,1.2964860582204545,1.0796889712221411,2.305537022460209,1.3682973113771815,1.2806504410087547,2.7196998202018956,2.667161129089743,1.3658953057772434,1.3459657366800954,0.3532571055383937,0.06929621742560428,1.438509006940126,3.6480718991806698,0.6408681869880432,0.10341297183116796,2.6844765723684305,1.205365475483796,0.2390662747443431,0.6135596218487379,1.8558532656575177,1.6228824291194468,1.9188327580790532,3.5684240137954815,1.5219941423749865,0.21086310655137633,0.7321630855491172,1.6938122162244889,0.20453202987332672,0.6541421302550945,2.179052166308559,1.1465505633729804,0.3463690262036701,0.8583393337279325,1.5259825233255828,1.094169493547011,2.0023263144019343,0.2973944661639284,0.36658194577531183,0.24534237811703571,0.1047610923554119,1.0837607089666161,1.7009880654710168,2.7136735069596245,1.6584443206749733,0.7473102059861711,1.0488342381900095,1.0682861249499584,2.447691613990861,2.572942416326469,1.0951756495229044,1.8672899022555953,0.47163961465884724,0.933371189041598,0.4955142118942921,0.18701323012592347,0.5699910351099607,0.664682232324052,1.4073695360980327,0.8814259655504217,1.510455239102747,0.6416033877030957,1.5491223957874396,2.3849519823241145,2.776965694234657,0.783782606205122,0.9656826561891365,0.5785553418409354,0.9849678001660489,1.433983235370852,1.579121601458631,0.5150934579621246,0.7852182598164648,0.9479257276121773,0.5227591222180813,0.5886988007070203,2.0134840914808483,0.3193094720627883,3.2022140927649714,0.7261540778882448,0.07974129065196384,1.9738662622176089,0.9633116628453019
</textarea><p>
</p>
<script>

function getParameterByName(name) {
    name = name.replace(/[\[]/, "\\\[").replace(/[\]]/, "\\\]");
    var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
        results = regex.exec(location.search);
    return results == null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
}

var qmethod, qdata = '';

if(getParameterByName('method') !== ''){
	qmethod = getParameterByName('method')
}
if(getParameterByName('data') !== ''){
	qdata = getParameterByName('data');
	$('#data-input').text(qdata);
	qdata = qdata.split(',').map(function(x){
	return parseFloat(x,10);
});
}

var textarea = $('#data-input').val().split(',').map(function(x){
	return parseFloat(x,10);
});

// console.log(getMaxOfArray(data))
 var el = socr.vis.generate({
	parent : '.chart',
	data : (qdata == '') ? textarea : qdata,
	height: 390,
	binSize : 80,
	labelPrecision : 1,
	tickNo : 10,
 	method : (qmethod == '') ? 'sturges' : qmethod,
 	datum : 0.000000000000000000000001,
 	variable : 'Mean'
}) ;

$('#submit').on('click', function(){
	var textarea = $('#data-input').val().split(',').map(function(x){
	return parseFloat(x,10);
});

$('.chart').html('');
	socr.vis.generate({
	parent : '.chart',
	data : textarea,
	height: 390,
	binSize : 80,
	labelPrecision : 1,
	tickNo : 10,
 	method : $('#method').val(),
 	datum : 0,
 	variable : 'Mean'
	}) ;
})
</script>
</body>